*** Settings ***
Library           Selenium2Library
Library           AppiumLibrary
Resource          ../Repository/eServiceWebPostPaidRepository.txt
Resource          Repository/eServiceWebPostPaidLoginRepository.txt
Resource          ${LANG}/eServiceWebPostPaidLoginMessage.txt
Library           ../../Library/GetSMSfromMOOD.py
Library           ../../Library/getString.py

*** Test Cases ***
[F01-001]eServiceWeb-PO-Login-NumberNotComplete
    Open Browser    ${eServiceURL}    ${BROWSER}
    Maximize Browser Window
    Select Frame    ${MainIframe}
    Click Element    ${Language}
    Input Text    ${MobileNumber}    061385133
    Click Element    ${GetOTP}
    Element Text Should Be    ${DialogMessage}    ${ERROR_NumberNotComplete}
    Click Element    ${DialogClose}
    Close Browser

[F01-002]eServiceWeb-PO-Login-NumberDtac
    Open Browser    ${eServiceURL}    ${BROWSER}
    Maximize Browser Window
    Select Frame    ${MainIframe}
    Click Element    ${Language}
    Input Text    ${MobileNumber}    0944835961
    Click Element    ${GetOTP}
    Wait Until Page Contains Element    ${ToolTipMessage}
    Element Text Should Be    ${ToolTipMessage}    ${ERRROR_NumberDtac}
    Close Browser

[F01-003]eServiceWeb-PO-Login-FillOTPNotComplete
    Selenium2Library.Open Browser    ${eServiceURL}    ${BROWSER}
    Selenium2Library.Maximize Browser Window
    Selenium2Library.Select Frame    ${MainIframe}
    Selenium2Library. Click Element    ${Language}
    Selenium2Library.Input Text    ${MobileNumber}    0613851339
    Selenium2Library.Click Element    ${GetOTP}
    ${OTPMessage}    Getsms    AIS    127.0.0.1    1    2a82ee4d
    ${OTP}    getOTPinSMS    ${OTPMessage}
    Log To Console    ${OTP}
    Selenium2Library.Input Text    ${InputOTP}    ${OTP}

[F01-003]eServiceWeb-PO-Login-OtpNotcomplete
    Open Browser    ${eServiceURL}    gc
    Maximize Browser Window
    Select Frame    ${MainIframe}
    Click Element    ${Language}
    Input Text    ${MobileNumber}    0613851273
    Click Element    ${GetOTP}
    Sleep    2
    Input Text    ${Otp}    123
    Element Should Not Be Visible    ${LoginOtp}
    Close Browser

[F01-007]eServiceWeb-PO-Login-InputOtpWithCharacter
    Open Browser    ${eServiceURL}    gc
    Maximize Browser Window
    Select Frame    ${MainIframe}
    Click Element    ${Language}
    Input Text    ${MobileNumber}    0613851273
    Click Element    ${GetOTP}
    Sleep    2
    Input Text    ${Otp}    a
    Element Text Should Be    ${DialogMessage}    ${ERROR_InputOtpWithCharacter}
    Click Element    ${DialogClose}
    Close Browser
